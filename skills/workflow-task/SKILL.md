---
name: workflow-task
description: å°†æŠ€æœ¯è®¡åˆ’åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚é€šè¿‡ 6 é˜¶æ®µæµç¨‹ï¼ˆPARSEâ†’DECOMPOSEâ†’ANALYZEâ†’REVIEWâ†’REFINEâ†’VALIDATEï¼‰å°† plan.md è½¬åŒ–ä¸º tasks.mdï¼Œæ”¯æŒé€’å½’å­æ¨¡å—è§„åˆ’ã€ä»»åŠ¡ç²’åº¦æ£€æµ‹ã€ä¾èµ–åˆ†æå’Œæ–­ç‚¹æ¢å¤ã€‚å½“ç”¨æˆ·æƒ³è¦"åˆ†è§£ä»»åŠ¡"ã€"ä»»åŠ¡åˆ—è¡¨"ã€"ä»»åŠ¡è§„åˆ’"æ—¶ä½¿ç”¨ã€‚ä¹Ÿå“åº” "workflow task"ã€"å·¥ä½œæµä»»åŠ¡"ã€‚
---

# Workflow Task

å°†æŠ€æœ¯è®¡åˆ’åˆ†è§£ä¸ºå¯æ‰§è¡Œä»»åŠ¡ï¼šPARSE â†’ DECOMPOSE â†’ ANALYZE â†’ REVIEW â†’ REFINE â†’ VALIDATE

---

## ğŸš€ æ‰§è¡Œæµç¨‹

**å½“æ­¤ skill è¢«è§¦å‘æ—¶ï¼Œä½ å¿…é¡»æŒ‰ä»¥ä¸‹æµç¨‹æ‰§è¡Œï¼š**

### ç«‹å³è¡ŒåŠ¨

1. éªŒè¯ `.workflow/{feature}/plan/plan.md` å­˜åœ¨ä¸” status: approved
2. åˆ›å»ºç›®å½•: `.workflow/{feature}/task/`
3. å¼€å§‹ Phase 1: PARSE

### ğŸ“‹ è¿›åº¦è¿½è¸ª Checklist

**å¤åˆ¶æ­¤æ¸…å•å¹¶é€é¡¹å®Œæˆï¼š**

```
- [ ] Phase 1: PARSE â†’ è§£æ plan.mdï¼Œæå–æ¨¡å—ä¿¡æ¯
- [ ] Phase 2: DECOMPOSE â†’ è¾“å‡º: tasks.mdï¼ˆè‰ç¨¿ï¼‰
- [ ] Phase 3: ANALYZE â†’ æ›´æ–°: tasks.md ä¾èµ–å…³ç³»å›¾
- [ ] Phase 4: REVIEW â†’ åˆ¤å®š: PASS è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
- [ ] Phase 5: REFINE â†’ è¾“å‡º: tasks.mdï¼ˆä¼˜åŒ–åï¼‰
- [ ] Phase 6: VALIDATE â†’ è¾“å‡º: tasks.mdï¼ˆstatus: approvedï¼‰
```

### âœ… é˜¶æ®µå®ŒæˆéªŒè¯

| é˜¶æ®µ | å®Œæˆæ¡ä»¶ | ä¸‹ä¸€æ­¥ |
|------|----------|--------|
| PARSE | æ¨¡å—åˆ—è¡¨å·²æå– | â†’ DECOMPOSE |
| DECOMPOSE | `tasks.md` è‰ç¨¿å­˜åœ¨ | â†’ ANALYZE |
| ANALYZE | ä¾èµ– DAG å·²ç”Ÿæˆï¼Œæ— å¾ªç¯ | â†’ REVIEW |
| REVIEW | åˆ¤å®š PASS | â†’ REFINE |
| REFINE | å®¡æŸ¥åé¦ˆå·²åº”ç”¨ | â†’ VALIDATE |
| VALIDATE | ç”¨æˆ·æ‰¹å‡†ï¼Œstatus: approved | â†’ ç»“æŸ |

---

## Phase è¯¦æƒ…

### Phase 1: PARSEï¼ˆè§£æè®¡åˆ’ï¼‰

**ä½ å¿…é¡»ï¼š**
1. è¯»å– plan.mdï¼Œè§£æ frontmatter
2. æå–æ¨¡å—åˆ—è¡¨ï¼ˆä»æ¨¡å—è¯´æ˜è¡¨ï¼‰
3. æå–æ¶æ„ä¾èµ–å…³ç³»å’ŒæŠ€æœ¯é€‰å‹
4. éªŒè¯ plan.md çŠ¶æ€ä¸º approved

**å®Œæˆæ ‡å¿—**: æ¨¡å—åˆ—è¡¨å·²æå–åˆ°å†…å­˜

---

### Phase 2: DECOMPOSEï¼ˆåˆ†è§£ä»»åŠ¡ï¼‰

**ä½ å¿…é¡»ï¼š**
1. éå†æ¯ä¸ªæ¨¡å—ï¼Œæ‰§è¡Œå®Œæ•´æ€§æ£€æµ‹ï¼ˆ5 ç»´åº¦ï¼‰
2. æ ¹æ®æ£€æµ‹ç»“æœ:
   - COMPLETE â†’ ç”Ÿæˆä»»åŠ¡
   - TRIGGER_SUB_PLAN â†’ è§¦å‘å­æ¨¡å— workflow-planï¼ˆæœ€å¤§é€’å½’ 3 å±‚ï¼‰
   - REQUEST_USER_INPUT â†’ è¯¢é—®ç”¨æˆ·è¡¥å……ä¿¡æ¯
3. ä¸ºæ¯ä¸ªæ¨¡å—ç”Ÿæˆä»»åŠ¡
4. è®¾ç½®ä¼˜å…ˆçº§: P0(é˜»å¡)/P1(æ ¸å¿ƒ)/P2(è¾…åŠ©)/P3(ä¼˜åŒ–)
5. æ ‡è®°: [T] TDDã€[P] å¹¶è¡Œã€[R] éœ€å®¡æŸ¥
6. ä½¿ç”¨ [assets/tasks-template.md](assets/tasks-template.md) åˆ›å»º `tasks.md`

**å®Œæ•´æ€§æ£€æµ‹ï¼ˆ5 ç»´åº¦ï¼‰**:
- èŒè´£æ¸…æ™°åº¦ï¼ˆ20-200 å­—ï¼‰
- æ¥å£å®šä¹‰ï¼ˆå¿…é¡»æœ‰ï¼‰
- æŠ€æœ¯é€‰å‹ï¼ˆå¿…é¡»æœ‰ï¼‰
- ç²’åº¦ï¼ˆâ‰¤8 å°æ—¶ï¼‰
- å­æ¨¡å—è¯¦æƒ…ï¼ˆå¤åˆæ¨¡å—å¿…é¡»æœ‰ï¼‰

> è¯¦ç»†è¯´æ˜: [references/completeness-check.md](references/completeness-check.md)

**å®Œæˆæ ‡å¿—**: `tasks.md` è‰ç¨¿å­˜åœ¨

---

### Phase 3: ANALYZEï¼ˆä¾èµ–åˆ†æï¼‰

**ä½ å¿…é¡»ï¼š**
1. åˆ†æä»»åŠ¡é—´ä¾èµ–å…³ç³»
2. æ„å»ºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰
3. æ£€æµ‹å¾ªç¯ä¾èµ–ï¼ˆå¦‚æœ‰åˆ™ä¸­æ­¢ï¼‰
4. è®¡ç®—å…³é”®è·¯å¾„
5. æ£€æµ‹ä»»åŠ¡ç²’åº¦ï¼ˆ30min-8hï¼‰ï¼Œç”Ÿæˆè­¦å‘Š
6. æ ‡è®°å¹¶è¡Œä»»åŠ¡ç»„
7. æ›´æ–° tasks.md çš„ä¾èµ–å…³ç³»å›¾

**å®Œæˆæ ‡å¿—**: DAG å·²ç”Ÿæˆä¸”æ— å¾ªç¯ä¾èµ–

---

### Phase 4: REVIEWï¼ˆç‹¬ç«‹å®¡æŸ¥ï¼‰

**ä½ å¿…é¡»ï¼š**
1. ä½¿ç”¨ Task å·¥å…·å¯åŠ¨ç‹¬ç«‹å®¡æŸ¥ Agent
2. å®¡æŸ¥ç»´åº¦: ä»»åŠ¡å®Œæ•´æ€§ã€ç²’åº¦åˆç†æ€§ã€ä¾èµ–æ­£ç¡®æ€§
3. åˆ›å»º `reviews/round-{N}/review-response.md`

**åˆ¤å®šè§„åˆ™**:
- **PASS**: ä¸‰ç»´åº¦å‡åˆæ ¼ â†’ REFINE
- **NEEDS_IMPROVEMENT**: éƒ¨åˆ†é—®é¢˜ â†’ å›é€€ DECOMPOSEï¼ˆæœ€å¤š 3 è½®ï¼‰
- **REJECTED**: ä¸¥é‡é—®é¢˜ â†’ åœæ­¢æµç¨‹

> å®¡æŸ¥æ¸…å•: [references/review-checklist.md](references/review-checklist.md)

**å®Œæˆæ ‡å¿—**: åˆ¤å®šä¸º PASS

---

### Phase 5: REFINEï¼ˆä¼˜åŒ–ä»»åŠ¡ï¼‰

**ä½ å¿…é¡»ï¼š**
1. åº”ç”¨å®¡æŸ¥åé¦ˆä¿®æ”¹
2. è°ƒæ•´ä»»åŠ¡ç»“æ„å’Œä¾èµ–å…³ç³»
3. æ›´æ–°ä»»åŠ¡æ ‡è®°
4. ä¿å­˜ä¼˜åŒ–åçš„ `tasks.md`

**å®Œæˆæ ‡å¿—**: å®¡æŸ¥åé¦ˆå·²å…¨éƒ¨åº”ç”¨

---

### Phase 6: VALIDATEï¼ˆç”¨æˆ·ç¡®è®¤ï¼‰

**ä½ å¿…é¡»ï¼š**
1. ç”Ÿæˆè¾“å‡ºæ¦‚è¦ï¼ˆå…³é”®ä¿¡æ¯æ‘˜è¦ï¼Œâ‰¤200 å­—ï¼‰
2. è¾“å‡ºæ–‡æ¡£é“¾æ¥ï¼š
   - ä½¿ç”¨ Markdown é“¾æ¥æ ¼å¼ï¼š`[tasks.md](.workflow/{feature}/task/tasks.md)`
   - ç”¨æˆ·å¯ç‚¹å‡»è·³è½¬åˆ°å®Œæ•´æ–‡æ¡£
3. æ±‡æ€»æ‰€æœ‰è­¦å‘Š
4. é€šè¿‡ AskUserQuestion è¯·æ±‚ç”¨æˆ·æ‰¹å‡†
5. æ›´æ–° tasks.md frontmatter: `status: approved`
6. æ›´æ–° `.state.yaml`

**æ¦‚è¦æ ¼å¼**:
```
## ğŸ“„ ä»»åŠ¡åˆ—è¡¨å·²å®Œæˆ

**æ ¸å¿ƒå†…å®¹**:
- ä»»åŠ¡æ€»æ•°: {N} ä¸ª
- å…³é”®è·¯å¾„: {ä»»åŠ¡ ID åˆ—è¡¨}
- å¯å¹¶è¡Œä»»åŠ¡: {N} ä¸ª
- è­¦å‘Šæ•°é‡: {N} ä¸ª

**è¯¦ç»†æ–‡æ¡£**: [tasks.md](.workflow/{feature}/task/tasks.md)
```

**å®Œæˆæ ‡å¿—**: tasks.md çŠ¶æ€ä¸º approved

---

## ç›®å½•ç»“æ„

```
.workflow/{feature}/task/
â”œâ”€â”€ tasks.md
â”œâ”€â”€ reviews/
â”‚   â””â”€â”€ round-{N}/
â”‚       â””â”€â”€ review-response.md
â””â”€â”€ .state.yaml
```

---

## ä»»åŠ¡æ ‡è®°è¯´æ˜

| æ ‡è®° | å«ä¹‰ | æ‰§è¡Œç­–ç•¥ |
|------|------|----------|
| `[T]` | TDD | å…ˆå†™æµ‹è¯•ï¼Œå†å®ç° |
| `[P]` | å¯å¹¶è¡Œ | å¯ä¸åŒç»„ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œ |
| `[R]` | éœ€å®¡æŸ¥ | å®Œæˆåéœ€äººå·¥å®¡æŸ¥ |

## ä¼˜å…ˆçº§è¯´æ˜

| ä¼˜å…ˆçº§ | å«ä¹‰ | å¤±è´¥å¤„ç† |
|--------|------|----------|
| P0 | é˜»å¡ä»»åŠ¡ | ç«‹å³ä¸­æ­¢ |
| P1 | æ ¸å¿ƒé€»è¾‘ | ç«‹å³ä¸­æ­¢ |
| P2 | è¾…åŠ©åŠŸèƒ½ | è·³è¿‡ç»§ç»­ |
| P3 | ä¼˜åŒ–æ–‡æ¡£ | è·³è¿‡ç»§ç»­ |

---

## èµ„æº

| èµ„æº | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| ä»»åŠ¡æ¨¡æ¿ | [assets/tasks-template.md](assets/tasks-template.md) | DECOMPOSE é˜¶æ®µ |
| å®Œæ•´æ€§æ£€æµ‹ | [references/completeness-check.md](references/completeness-check.md) | DECOMPOSE é˜¶æ®µ |
| å®¡æŸ¥æ¸…å• | [references/review-checklist.md](references/review-checklist.md) | REVIEW é˜¶æ®µ |
| é˜¶æ®µè¯¦æƒ… | [references/phase-details.md](references/phase-details.md) | è¯¦ç»†å­ä»»åŠ¡ |

---

## é›†æˆ

**è¾“å…¥**: `/workflow-plan` ç”Ÿæˆçš„ `plan.md`ï¼ˆå·²æ‰¹å‡†ï¼‰
**è¾“å‡º**: ä¾› `/workflow-implement` ä½¿ç”¨çš„ `tasks.md`ï¼ˆå·²æ‰¹å‡†ï¼‰
