---
name: workflow-plan
description: åŸºäºéœ€æ±‚è§„èŒƒç”ŸæˆæŠ€æœ¯è®¡åˆ’ã€‚é€šè¿‡è¿­ä»£å¼æµç¨‹ï¼ˆANALYZEâ†’RESEARCHâ†’ANALYSIS-REVIEWâ†’...â†’PLANâ†’REVIEWâ†’VALIDATEï¼‰å°† spec.md è½¬åŒ–ä¸º plan.mdï¼ŒåŒ…å«æ¶æ„è®¾è®¡ã€æŠ€æœ¯é€‰å‹ã€é£é™©è¯„ä¼°å’Œ ADRã€‚å½“ç”¨æˆ·æƒ³è¦"åˆ¶å®šè®¡åˆ’"ã€"æŠ€æœ¯æ–¹æ¡ˆ"ã€"æ¶æ„è®¾è®¡"æ—¶ä½¿ç”¨ã€‚ä¹Ÿå“åº” "workflow plan"ã€"å·¥ä½œæµè®¡åˆ’"ã€‚
---

# Workflow Plan

å°†éœ€æ±‚è§„èŒƒè½¬åŒ–ä¸ºæŠ€æœ¯è®¡åˆ’ï¼šANALYZE â†’ RESEARCH âŸ· ANALYSIS-REVIEWï¼ˆè¿­ä»£å¾ªç¯ï¼‰â†’ PLAN â†’ REVIEW â†’ VALIDATE

---

## ğŸš€ æ‰§è¡Œæµç¨‹

**å½“æ­¤ skill è¢«è§¦å‘æ—¶ï¼Œä½ å¿…é¡»æŒ‰ä»¥ä¸‹æµç¨‹æ‰§è¡Œï¼š**

### ç«‹å³è¡ŒåŠ¨

1. éªŒè¯ `.workflow/{feature}/specify/spec.md` å­˜åœ¨ä¸” status: approved
2. **è¯¢é—®ç”¨æˆ·å®¡æŸ¥æ–¹å¼**ï¼šä½¿ç”¨ AskUserQuestion è®©ç”¨æˆ·é€‰æ‹©:
   - **é€‰é¡¹ 1: Codex å®¡æŸ¥**ï¼ˆæ¨èï¼‰- ä½¿ç”¨ /codex skill è¿›è¡Œé«˜è´¨é‡å®¡æŸ¥
   - **é€‰é¡¹ 2: ç‹¬ç«‹ Agent å®¡æŸ¥** - ä½¿ç”¨ Task å·¥å…·å¯åŠ¨ç‹¬ç«‹å®¡æŸ¥ Agent
3. è®°å½•å®¡æŸ¥æ–¹å¼åˆ° `.state.yaml`
4. åˆ›å»ºç›®å½•: `.workflow/{feature}/plan/`
5. å¼€å§‹ Phase 1: ANALYZE

### ğŸ“‹ è¿›åº¦è¿½è¸ª Checklist

**å¤åˆ¶æ­¤æ¸…å•å¹¶é€é¡¹å®Œæˆï¼š**

```
- [ ] Phase 1: ANALYZE â†’ è¾“å‡º: analyze/analysis.mdï¼ˆè¯†åˆ«è°ƒç ”ä¸»é¢˜ï¼‰
- [ ] Phase 2: RESEARCH â†’ è¾“å‡º: research/{topic}/research.mdï¼ˆç‹¬ç«‹è°ƒç ”æ–‡æ¡£ï¼‰
- [ ] Phase 3: ANALYSIS-REVIEW â†’ åˆ¤å®š: æ˜¯å¦éœ€è¦ç»§ç»­è°ƒç ”
      â†³ å¾ªç¯: RESEARCH âŸ· ANALYSIS-REVIEW ç›´åˆ°æ‰€æœ‰è°ƒç ”å®Œæˆ
- [ ] Phase 4: PLAN â†’ è¾“å‡º: plan.mdï¼ˆè‰ç¨¿ï¼‰
- [ ] Phase 5: REVIEW â†’ åˆ¤å®š: PASS è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
- [ ] Phase 6: VALIDATE â†’ è¾“å‡º: plan.mdï¼ˆstatus: approvedï¼‰
```

### âœ… é˜¶æ®µå®ŒæˆéªŒè¯

| é˜¶æ®µ | å®Œæˆæ¡ä»¶ | ä¸‹ä¸€æ­¥ |
|------|----------|--------|
| ANALYZE | `analyze/analysis.md` å­˜åœ¨ï¼Œè°ƒç ”ä¸»é¢˜å·²è¯†åˆ« | â†’ RESEARCH |
| RESEARCH | å½“å‰ä¸»é¢˜çš„ `research/{topic}/research.md` å­˜åœ¨ï¼Œevidence å®Œæ•´ | â†’ ANALYSIS-REVIEW |
| ANALYSIS-REVIEW | åˆ¤å®šè°ƒç ”å……åˆ†æ€§ | å……åˆ† â†’ PLAN / ä¸å……åˆ† â†’ RESEARCHï¼ˆæ–°ä¸»é¢˜æˆ–è¡¥å……ï¼‰ |
| PLAN | `plan.md` è‰ç¨¿å­˜åœ¨ | â†’ REVIEW |
| REVIEW | åˆ¤å®š PASS | â†’ VALIDATE |
| VALIDATE | ç”¨æˆ·æ‰¹å‡†ï¼Œstatus: approved | â†’ ç»“æŸ |

---

## âš ï¸ èŒè´£è¾¹ç•Œ

**ä½ å¿…é¡»åš**:
- âœ… è®¾è®¡ç³»ç»Ÿæ¶æ„å’Œæ¨¡å—åˆ’åˆ†
- âœ… ç¡®å®šæŠ€æœ¯é€‰å‹å’Œç†ç”±
- âœ… è¯„ä¼°æŠ€æœ¯é£é™©
- âœ… è®°å½•æ¶æ„å†³ç­– (ADR)
- âœ… åˆ†ææŠ€æœ¯ä¾èµ–å…³ç³»
- âœ… å®šä¹‰æ¶æ„å±‚é¢çš„å®‰å…¨å’Œå¯è§‚æµ‹æ€§ç­–ç•¥

**ä½ ä¸¥ç¦åš**:
- âŒ æ‹†è§£å…·ä½“å®æ–½ä»»åŠ¡å’Œæ­¥éª¤ï¼ˆç”± `/workflow-task` è´Ÿè´£ï¼‰
- âŒ å®šä¹‰è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹å’ŒéªŒæ”¶æ ‡å‡†ï¼ˆç”± `/workflow-task` è´Ÿè´£ï¼‰
- âŒ åˆ¶å®šä¸Šçº¿ã€è¿ç§»ã€å›æ»šçš„å…·ä½“æ“ä½œæ­¥éª¤ï¼ˆç”± `/workflow-task` è´Ÿè´£ï¼‰
- âŒ ç¼–å†™å…·ä½“çš„æ€§èƒ½æµ‹è¯•è®¡åˆ’ï¼ˆç”± `/workflow-task` è´Ÿè´£ï¼‰
- âŒ è§„åˆ’é¡¹ç›®è¿›åº¦å’Œèµ„æºåˆ†é…ï¼ˆç”± `/workflow-task` è´Ÿè´£ï¼‰

**è¾¹ç•ŒåŸåˆ™**: åªåšæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯å†³ç­–ï¼ˆHOWæ¶æ„ï¼‰ï¼Œä¸åšä»»åŠ¡æ‹†è§£å’Œå®æ–½è®¡åˆ’ï¼ˆHOWå®æ–½ï¼‰ã€‚å®æ–½ç»†èŠ‚ç”± `/workflow-task` è´Ÿè´£ã€‚

---

## Phase è¯¦æƒ…

### Phase 1: ANALYZEï¼ˆéœ€æ±‚åˆ†æï¼‰

**ä½ å¿…é¡»ï¼š**
1. è¯»å– spec.mdï¼Œè§£æåŠŸèƒ½éœ€æ±‚ (FR) å’ŒéåŠŸèƒ½éœ€æ±‚ (NFR)
2. è¯†åˆ«æŠ€æœ¯çº¦æŸå’Œä¾èµ–
3. æ ‡è®°éœ€è¦æ¶æ„å†³ç­–çš„ç‚¹
4. **è¯†åˆ«éœ€è¦è°ƒç ”çš„æŠ€æœ¯ä¸»é¢˜**ï¼ˆæ¯ä¸ªä¸»é¢˜å°†ç”Ÿæˆç‹¬ç«‹çš„è°ƒç ”æ–‡æ¡£ï¼‰
5. ä½¿ç”¨ [assets/analysis-template.md](assets/analysis-template.md) åˆ›å»º `analyze/analysis.md`

**è°ƒç ”ä¸»é¢˜è¯†åˆ«åŸåˆ™**:
- æ¯ä¸ªä¸»é¢˜åº”è¯¥æ˜¯ç‹¬ç«‹çš„ã€å¯å•ç‹¬è°ƒç ”çš„
- ä¸»é¢˜ç²’åº¦é€‚ä¸­ï¼šä¸è¦å¤ªå¤§ï¼ˆæ— æ³•åœ¨ä¸€æ¬¡è°ƒç ”ä¸­å®Œæˆï¼‰ï¼Œä¸è¦å¤ªå°ï¼ˆæ²¡æœ‰è°ƒç ”ä»·å€¼ï¼‰
- æ˜ç¡®æ¯ä¸ªä¸»é¢˜çš„æ ¸å¿ƒé—®é¢˜å’Œè¯„ä¼°ç»´åº¦

**å®Œæˆæ ‡å¿—**: `analyze/analysis.md` å­˜åœ¨ï¼Œä¸”åŒ…å«æ˜ç¡®çš„è°ƒç ”ä¸»é¢˜åˆ—è¡¨

---

### Phase 2: RESEARCHï¼ˆç‹¬ç«‹æŠ€æœ¯è°ƒç ”ï¼‰

> **æ ¸å¿ƒåŸåˆ™**: éµå¾ª `/research` skill æ ‡å‡†ï¼Œæ¯ä¸ªè°ƒç ”ä¸»é¢˜ç”Ÿæˆ**å®Œæ•´ç‹¬ç«‹**çš„è°ƒç ”æ–‡æ¡£

**ä½ å¿…é¡»ï¼š**
1. **å•ä¸€èŒè´£**: æ¯ä¸ªè°ƒç ”åªå…³æ³¨ä¸€ä¸ªä¸»é¢˜ï¼Œä¸è€ƒè™‘ä¸å½“å‰é¡¹ç›®èƒŒæ™¯çš„æ•´åˆ
2. **ç‹¬ç«‹ç›®å½•**: ä¸ºæ¯ä¸ªè°ƒç ”ä¸»é¢˜åˆ›å»ºç‹¬ç«‹ç›®å½• `research/{topic-slug}/`
3. **å®Œæ•´æµç¨‹**: æŒ‰ `/research` skill çš„ 5 é˜¶æ®µæ‰§è¡Œ:
   - SCOPE â†’ GATHER â†’ ANALYZE â†’ COMPARE â†’ RECOMMEND
4. **å¿…é¡»æœ‰ evidence**: æ¯æ¬¡æœç´¢/åˆ†æ**å¿…é¡»**è®°å½•è¯æ®åˆ° `research/{topic}/evidence/evidence-{N}.md`
5. **è¾“å‡º**: ç”Ÿæˆå®Œæ•´çš„ `research/{topic}/research.md`

**è°ƒç ”ç›®å½•ç»“æ„**:
```
research/
â”œâ”€â”€ {topic-1}/
â”‚   â”œâ”€â”€ evidence/
â”‚   â”‚   â”œâ”€â”€ evidence-1.md    # å¿…é¡»æœ‰å†…å®¹
â”‚   â”‚   â”œâ”€â”€ evidence-2.md    # å¿…é¡»æœ‰å†…å®¹
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ research.md          # å®Œæ•´è°ƒç ”æŠ¥å‘Š
â”œâ”€â”€ {topic-2}/
â”‚   â”œâ”€â”€ evidence/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ research.md
â””â”€â”€ summary.md               # æ‰€æœ‰è°ƒç ”çš„æ±‡æ€»ç´¢å¼•
```

**è°ƒç ”æ–‡æ¡£æ ‡å‡†**ï¼ˆå‚ç…§ `/research` skillï¼‰:

| é˜¶æ®µ | ç›®æ ‡ | å¿…é¡»è¾“å‡º |
|------|------|----------|
| SCOPE | æ˜ç¡®è°ƒç ”èŒƒå›´å’Œè¯„ä¼°ç»´åº¦ | èŒƒå›´è¯´æ˜ã€è¯„ä¼°ç»´åº¦åˆ—è¡¨ |
| GATHER | æ”¶é›†æŠ€æœ¯èµ„æ–™å’Œè¯æ® | evidence æ–‡ä»¶ï¼ˆâ‰¥2 ä¸ªï¼‰ |
| ANALYZE | åˆ†æå„æ–¹æ¡ˆä¼˜ç¼ºç‚¹ | æ–¹æ¡ˆåˆ†æè¡¨ |
| COMPARE | ç”Ÿæˆå¯¹æ¯”è¡¨å’Œå¯è§†åŒ– | å¯¹æ¯”è¡¨ã€Mermaid å›¾ |
| RECOMMEND | è¾“å‡ºç»“è®ºå’Œå»ºè®® | æ¨èç»“è®ºã€Sources åˆ—è¡¨ |

**Evidence å¼ºåˆ¶è¦æ±‚**:
- æ¯ä¸ªè°ƒç ”ä¸»é¢˜**è‡³å°‘ 2 ä¸ª** evidence æ–‡ä»¶
- æ¯ä¸ª evidence å¿…é¡»åŒ…å«: æœç´¢å…³é”®è¯/URLã€å…³é”®å‘ç°ã€æ¥æºã€è¯æ®ç­‰çº§
- è°ƒç ”æŠ¥å‘Šä¸­çš„æ¯ä¸ªç»“è®ºéƒ½å¿…é¡»å¼•ç”¨å¯¹åº”çš„ evidenceï¼ˆå¦‚ `[E-1][E-2]`ï¼‰

**å®Œæˆæ ‡å¿—**: `research/{topic}/research.md` å­˜åœ¨ï¼Œevidence ç›®å½•éç©ºä¸”æ¯ä¸ªè°ƒç ”ç»“è®ºæœ‰å¯¹åº”è¯æ®

---

### Phase 3: ANALYSIS-REVIEWï¼ˆè°ƒç ”åˆ†æå®¡æŸ¥ï¼‰

> **æ ¸å¿ƒç›®çš„**: è¯„ä¼°å½“å‰è°ƒç ”æ˜¯å¦å……åˆ†ï¼Œå†³å®šæ˜¯å¦éœ€è¦ç»§ç»­è°ƒç ”

**ä½ å¿…é¡»ï¼š**
1. **åˆ†æè°ƒç ”ç»“æœ**: è¯»å–å·²å®Œæˆçš„è°ƒç ”æŠ¥å‘Š
2. **è¯„ä¼°å……åˆ†æ€§**: æ£€æŸ¥ä»¥ä¸‹ç»´åº¦:
   - æ‰€æœ‰ ANALYZE é˜¶æ®µè¯†åˆ«çš„è°ƒç ”ä¸»é¢˜æ˜¯å¦éƒ½å·²å®Œæˆ
   - æ¯ä¸ªè°ƒç ”æ˜¯å¦æœ‰è¶³å¤Ÿçš„ evidence æ”¯æ’‘
   - æ¯ä¸ªè°ƒç ”ç»“è®ºæ˜¯å¦æœ‰å¯¹åº”çš„è¯æ®å¼•ç”¨
   - æ˜¯å¦å‘ç°äº†æ–°çš„éœ€è¦è°ƒç ”çš„ä¸»é¢˜
3. **åˆ¤å®šä¸‹ä¸€æ­¥**:

**åˆ¤å®šè§„åˆ™**:

| åˆ¤å®š | æ¡ä»¶ | ä¸‹ä¸€æ­¥ |
|------|------|--------|
| **CONTINUE_RESEARCH** | å‘ç°æ–°çš„è°ƒç ”ä¸»é¢˜ æˆ– ç°æœ‰è°ƒç ”ä¸å……åˆ† | â†’ å›åˆ° RESEARCHï¼ˆå¤„ç†æ–°ä¸»é¢˜æˆ–è¡¥å……ç°æœ‰è°ƒç ”ï¼‰ |
| **PASS** | æ‰€æœ‰è°ƒç ”ä¸»é¢˜å®Œæˆï¼Œevidence å……åˆ†ï¼Œç»“è®ºæœ‰æ®å¯ä¾ | â†’ PLAN |

**å®¡æŸ¥æ¸…å•**:
- [ ] æ‰€æœ‰ P0/P1 è°ƒç ”ä¸»é¢˜éƒ½å·²å®Œæˆ
- [ ] æ¯ä¸ªè°ƒç ”æŠ¥å‘Šçš„ evidence ç›®å½•æœ‰å†…å®¹ï¼ˆâ‰¥2 ä¸ªæ–‡ä»¶ï¼‰
- [ ] æ¯ä¸ªè°ƒç ”ç»“è®ºéƒ½å¼•ç”¨äº† evidence
- [ ] æ²¡æœ‰é—æ¼çš„å…³é”®è°ƒç ”ç‚¹
- [ ] æ²¡æœ‰å‘ç°æ–°çš„éœ€è¦è°ƒç ”çš„ä¸»é¢˜

**è¿­ä»£å¾ªç¯æµç¨‹å›¾**:

```mermaid
graph TD
    A[ANALYZE] --> B[RESEARCH: ä¸»é¢˜ 1]
    B --> C[ANALYSIS-REVIEW]
    C -->|æ–°ä¸»é¢˜å‘ç°| D[RESEARCH: ä¸»é¢˜ N]
    C -->|è°ƒç ”ä¸å……åˆ†| E[è¡¥å…… RESEARCH]
    D --> C
    E --> C
    C -->|PASS| F[PLAN]
```

**å®Œæˆæ ‡å¿—**: åˆ¤å®šä¸º PASSï¼Œæ‰€æœ‰è°ƒç ”å……åˆ†ä¸” evidence å®Œæ•´

---

### Phase 4: PLANï¼ˆæ¶æ„è®¾è®¡ï¼‰

**ä½ å¿…é¡»ï¼š**
1. **æ•´åˆè°ƒç ”ç»“æœ**: è¯»å– `research/summary.md` å’Œå„ä¸»é¢˜è°ƒç ”æŠ¥å‘Š
2. è®¾è®¡ç³»ç»Ÿæ•´ä½“æ¶æ„ï¼Œç”Ÿæˆ Mermaid æ¶æ„å›¾
3. ç¡®å®šæŠ€æœ¯é€‰å‹ï¼ˆåŸºäºè°ƒç ”ç»“è®ºï¼Œå¼•ç”¨å…·ä½“è°ƒç ”æŠ¥å‘Šï¼‰
4. è¯„ä¼°æŠ€æœ¯é£é™©ï¼ˆ3-5 ä¸ªå…³é”®é£é™©ï¼‰
5. è®°å½•æ¶æ„å†³ç­–ï¼ˆADRï¼‰
6. å®šä¹‰æ¶æ„å±‚é¢çš„å®‰å…¨å’Œå¯è§‚æµ‹æ€§ç­–ç•¥
7. ä½¿ç”¨ [assets/plan-template.md](assets/plan-template.md) åˆ›å»º `plan.md`

**ä¸¥ç¦è¡Œä¸º**:
- âŒ æ‹†è§£å…·ä½“çš„å¼€å‘ä»»åŠ¡å’Œå®æ–½æ­¥éª¤
- âŒ ç¼–å†™è¯¦ç»†çš„æµ‹è¯•è®¡åˆ’å’Œæµ‹è¯•ç”¨ä¾‹
- âŒ åˆ¶å®šä¸Šçº¿/è¿ç§»/å›æ»šçš„æ“ä½œæ¸…å•
- âŒ è§„åˆ’é¡¹ç›®æ—¶é—´çº¿å’Œé‡Œç¨‹ç¢‘
- âŒ å®šä¹‰å…·ä½“çš„æ€§èƒ½æµ‹è¯•æŒ‡æ ‡å’Œæ–¹æ³•

**å®Œæˆæ ‡å¿—**: `plan.md` è‰ç¨¿å­˜åœ¨ä¸”åŒ…å«æ¶æ„å›¾ï¼ŒæŠ€æœ¯é€‰å‹å¼•ç”¨äº†è°ƒç ”ç»“è®º

---

### Phase 5: REVIEWï¼ˆè®¾è®¡å®¡æŸ¥ï¼‰

**ä½ å¿…é¡»ï¼š**
1. æ ¹æ®ç”¨æˆ·åœ¨"ç«‹å³è¡ŒåŠ¨"é˜¶æ®µé€‰æ‹©çš„å®¡æŸ¥æ–¹å¼æ‰§è¡Œ:
   - **Codex å®¡æŸ¥**: ä½¿ç”¨ Skill å·¥å…·è°ƒç”¨ `/codex` skillï¼Œä¼ é€’ plan.md è·¯å¾„
   - **ç‹¬ç«‹ Agent å®¡æŸ¥**: ä½¿ç”¨ Task å·¥å…·å¯åŠ¨ç‹¬ç«‹å®¡æŸ¥ Agent
2. å®¡æŸ¥å†…å®¹:
   - æ¶æ„è¦†ç›–åº¦å……åˆ†
   - æŠ€æœ¯é€‰å‹ä¸€è‡´æ€§ï¼ˆä¸è°ƒç ”ç»“è®ºä¸€è‡´ï¼‰
   - é£é™©è¯„ä¼°åˆç†æ€§
   - ADR å®Œæ•´æ€§
   - **è°ƒç ”è¯æ®æ”¯æ’‘**ï¼ˆæ£€æŸ¥æŠ€æœ¯é€‰å‹æ˜¯å¦æœ‰å¯¹åº”çš„è°ƒç ”å’Œ evidence æ”¯æŒï¼‰
   - **æ— å®æ–½ç»†èŠ‚è¶Šç•Œ**ï¼ˆæ£€æŸ¥æ˜¯å¦å‡ºç°ä»»åŠ¡æ‹†è§£ã€æµ‹è¯•è®¡åˆ’ã€ä¸Šçº¿æ­¥éª¤ç­‰å†…å®¹ï¼‰
3. åˆ›å»º `reviews/round-{N}/review-response.md`

**åˆ¤å®šè§„åˆ™**:
- **PASS**: è¦†ç›–åº¦ â‰¥ 95% â†’ VALIDATE
- **NEEDS_PLAN**: è®¾è®¡éœ€ä¿®æ”¹ â†’ å›é€€ PLAN
- **NEEDS_RESEARCH**: éœ€æ›´å¤šè°ƒç ” â†’ å›é€€ ANALYSIS-REVIEW â†’ å¯èƒ½è§¦å‘æ–°çš„ RESEARCH

**CRITICAL çº§åˆ«é—®é¢˜åŒ…æ‹¬**:
- å‡ºç°å…·ä½“çš„å®æ–½ä»»åŠ¡æ‹†è§£ï¼ˆå¦‚"ç¬¬ä¸€æ­¥åšXï¼Œç¬¬äºŒæ­¥åšY"ï¼‰
- åŒ…å«è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹æˆ–éªŒæ”¶æ ‡å‡†
- åˆ¶å®šäº†ä¸Šçº¿/è¿ç§»/å›æ»šçš„æ“ä½œæ­¥éª¤
- æŠ€æœ¯é€‰å‹æ²¡æœ‰å¯¹åº”çš„è°ƒç ”æŠ¥å‘Šæˆ– evidence æ”¯æŒ

**å®Œæˆæ ‡å¿—**: åˆ¤å®šä¸º PASS

---

### Phase 6: VALIDATEï¼ˆç”¨æˆ·æ‰¹å‡†ï¼‰

**ä½ å¿…é¡»ï¼š**
1. ç”Ÿæˆè¾“å‡ºæ¦‚è¦ï¼ˆå…³é”®ä¿¡æ¯æ‘˜è¦ï¼Œâ‰¤200 å­—ï¼‰
2. è¾“å‡ºæ–‡æ¡£é“¾æ¥ï¼š
   - ä½¿ç”¨ Markdown é“¾æ¥æ ¼å¼ï¼š`[plan.md](.workflow/{feature}/plan/plan.md)`
   - ç”¨æˆ·å¯ç‚¹å‡»è·³è½¬åˆ°å®Œæ•´æ–‡æ¡£
3. é€šè¿‡ AskUserQuestion è¯·æ±‚ç”¨æˆ·æ‰¹å‡†
4. æ›´æ–° plan.md frontmatter: `status: approved`
5. æ›´æ–° `.state.yaml`

**æ¦‚è¦æ ¼å¼**:
```
## ğŸ“„ æŠ€æœ¯è®¡åˆ’å·²å®Œæˆ

**æ ¸å¿ƒå†…å®¹**:
- æ¶æ„æ¨¡å¼: {æ¶æ„ç±»å‹}
- æŠ€æœ¯æ ˆ: {ä¸»è¦æŠ€æœ¯é€‰å‹}
- å…³é”®é£é™©: {é£é™©æ•°é‡} ä¸ª
- ADR è®°å½•: {å†³ç­–æ•°é‡} ä¸ª
- è°ƒç ”ä¸»é¢˜: {è°ƒç ”æ•°é‡} ä¸ªï¼ˆå« {evidence æ€»æ•°} ä¸ªè¯æ®ï¼‰

**è¯¦ç»†æ–‡æ¡£**: [plan.md](.workflow/{feature}/plan/plan.md)
**è°ƒç ”æŠ¥å‘Š**: [research/](.workflow/{feature}/plan/research/)
```

**å®Œæˆæ ‡å¿—**: plan.md çŠ¶æ€ä¸º approved

---

## ç›®å½•ç»“æ„

```
.workflow/{feature}/plan/
â”œâ”€â”€ analyze/
â”‚   â””â”€â”€ analysis.md              # éœ€æ±‚åˆ†æï¼ˆå«è°ƒç ”ä¸»é¢˜ï¼‰
â”œâ”€â”€ research/
â”‚   â”œâ”€â”€ {topic-1}/               # è°ƒç ”ä¸»é¢˜ 1ï¼ˆç‹¬ç«‹ç›®å½•ï¼‰
â”‚   â”‚   â”œâ”€â”€ evidence/
â”‚   â”‚   â”‚   â”œâ”€â”€ evidence-1.md    # å¿…é¡»æœ‰å†…å®¹
â”‚   â”‚   â”‚   â”œâ”€â”€ evidence-2.md    # å¿…é¡»æœ‰å†…å®¹
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ research.md          # å®Œæ•´è°ƒç ”æŠ¥å‘Š
â”‚   â”œâ”€â”€ {topic-2}/               # è°ƒç ”ä¸»é¢˜ 2
â”‚   â”‚   â”œâ”€â”€ evidence/
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ research.md
â”‚   â””â”€â”€ summary.md               # æ‰€æœ‰è°ƒç ”çš„æ±‡æ€»ç´¢å¼•
â”œâ”€â”€ reviews/
â”‚   â””â”€â”€ round-{N}/
â”‚       â””â”€â”€ review-response.md
â”œâ”€â”€ plan.md
â””â”€â”€ .state.yaml
```

---

## Evidence è§„èŒƒ

### å¼ºåˆ¶è¦æ±‚

| è¦æ±‚ | è¯´æ˜ |
|------|------|
| æ¯ä¸ªè°ƒç ” â‰¥2 ä¸ª evidence | ç¡®ä¿ç»“è®ºæœ‰å……åˆ†è¯æ®æ”¯æ’‘ |
| evidence å¿…é¡»æœ‰å†…å®¹ | ç¦æ­¢ç©ºæ–‡ä»¶æˆ–å ä½ç¬¦ |
| ç»“è®ºå¿…é¡»å¼•ç”¨ evidence | æ ¼å¼: `[E-1]`ã€`[E-1][E-2]` |
| æ¥æºå¯è¿½æº¯ | åŒ…å« URLã€æœç´¢å…³é”®è¯ã€è®¿é—®æ—¶é—´ |

### Evidence æ¨¡æ¿

ä½¿ç”¨ [assets/research/evidence-template.md](assets/research/evidence-template.md) åˆ›å»º evidence æ–‡ä»¶ã€‚

### è¯æ®ç­‰çº§

| ç­‰çº§ | æ¥æºç±»å‹ | å¯ä¿¡åº¦ |
|------|----------|--------|
| A | å®˜æ–¹æ–‡æ¡£/æ ‡å‡†è§„èŒƒ | é«˜ |
| B | ç»´æŠ¤è€…æ–‡æ¡£/æƒå¨åšå®¢ | ä¸­é«˜ |
| C | ç¤¾åŒºå®è·µ/æŠ€æœ¯åšå®¢ | ä¸­ |
| D | è®ºå›è®¨è®º/ä¸ªäººè§‚ç‚¹ | ä½ |

---

## èµ„æº

| èµ„æº | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| åˆ†ææ¨¡æ¿ | [assets/analysis-template.md](assets/analysis-template.md) | ANALYZE é˜¶æ®µ |
| è°ƒç ”æ¨¡æ¿ | [assets/research-template.md](assets/research-template.md) | RESEARCH é˜¶æ®µ |
| è¯æ®æ¨¡æ¿ | [assets/research/evidence-template.md](assets/research/evidence-template.md) | Evidence è®°å½• |
| è®¡åˆ’æ¨¡æ¿ | [assets/plan-template.md](assets/plan-template.md) | PLAN é˜¶æ®µ |
| é˜¶æ®µè¯¦æƒ… | [references/phase-details.md](references/phase-details.md) | è¯¦ç»†å­ä»»åŠ¡ |
| å®¡æŸ¥æ¸…å• | [references/review-checklist.md](references/review-checklist.md) | REVIEW é˜¶æ®µ |

---

## é›†æˆ

**è¾“å…¥**: `/workflow-specify` ç”Ÿæˆçš„ `spec.md`ï¼ˆå·²æ‰¹å‡†ï¼‰
**è¾“å‡º**: ä¾› `/workflow-task` ä½¿ç”¨çš„ `plan.md`ï¼ˆå·²æ‰¹å‡†ï¼‰
